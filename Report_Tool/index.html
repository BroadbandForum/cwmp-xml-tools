<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>report.pl - generate report on TR-069 DM instances</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<li><a href="#limitations">LIMITATIONS</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p><strong>report.pl</strong>
[--allbibrefs]
[--autobase]
[--autodatatype]
[--automodel]
[--bibrefdocfirst]
[--canonical]
[--catalog=c]...
[--compare]
[--components]
[--configfile=s(&quot;&quot;)]
[--cwmpindex=s(..)]
[--cwmppath=s(cwmp)]
[--debugpath=p(&quot;&quot;)]
[--deletedeprecated]
[--diffs]
[--diffsext=s(diffs)]...
[--dtprofile=s]...
[--dtspec[=s]]
[--dtuuid[=s]]
[--exitcode]
[--help]
[--ignore=p(&quot;&quot;)]
[--importsuffix=s(&quot;&quot;)]
[--include=d]...
[--info]
[--lastonly]
[--loglevel=tn(i)]
[--marktemplates]
[--maxchardiffs=i(5)]
[--maxworddiffs=i(10)]
[--noautomodel]
[--nocomments]
[--nohyphenate]
[--nolinks]
[--nologprefix]
[--nomodels]
[--noobjects]
[--noparameters]
[--noprofiles]
[--noshowreadonly]
[--notemplates]
[--nowarnredef]
[--nowarnbibref]
[--nowarnenableparameter]
[--nowarnnumentries]
[--nowarnreport]
[--nowarnprofbadref]
[--nowarnuniquekeys]
[--nowarnwtref]
[--objpat=p(&quot;&quot;)]
[--option=n=v]...
[--outfile=s]
[--pedantic[=i(1)]]
[--plugin=s]...
[--quiet]
[--report=html|htmlbbf|(null)|tab|text|xls|xml|xsd|other...]
[--showdiffs]
[--showreadonly]
[--showspec]
[--showsyntax]
[--showunion]
[--sortobjects]
[--special=s]
[--thisonly]
[--tr106=s(TR-106)]
[--trpage=s(http://www.broadband-forum.org/technical/download)]
[--ucprofile=s]...
[--ugly]
[--upnpdm]
[--verbose[=i(1)]]
[--warnbibref[=i(1)]]
[--writonly]
DM-instance...</p>
<ul>
<li><strong><a name="the_most_common_options_are_include_loglevel_and_report_html" class="item">the most common options are --include, --loglevel and --report=html</a></strong>

</li>
<li><strong><a name="use_compare_to_compare_files_and_showdiffs_to_show_differences" class="item">use --compare to compare files and --showdiffs to show differences</a></strong>

</li>
<li><strong><a name="cannot_specify_both_report_and_special" class="item">cannot specify both --report and --special</a></strong>

</li>
</ul>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The files specified on the command line are assumed to be XML TR-069 data model definitions compliant with the <em>cwmp:datamodel</em> (DM) XML schema.</p>
<p>The script parses, validates and reports on these files, generating output in various possible formats to <em>stdout</em>.</p>
<p>There are a large number of options but in practice only a few need to be used.  For example:</p>
<p>./report.pl --report html tr-098-1-2-0.xml &gt;tr-098-1-2-0.html</p>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<dl>
<dt><strong><a name="allbibrefs" class="item"><strong>--allbibrefs</strong></a></strong></dt>

<dd>
<p>usually only bibliographic references that are referenced from within the data model definition are listed in the report; this isn't much help when generating a list of bibliographic references without a data model! that's what this option is for; currently it affects only <strong>html</strong> reports</p>
</dd>
<dt><strong><a name="autobase" class="item"><strong>--autobase</strong></a></strong></dt>

<dd>
<p>causes automatic addition of <strong>base</strong> attributes when models, parameters and objects are re-defined, and suppression of redefinition warnings (useful when processing auto-generated data model definitions)</p>
<p>is implied by <strong>--compare</strong></p>
</dd>
<dt><strong><a name="automodel" class="item"><strong>--automodel</strong></a></strong></dt>

<dd>
<p>enables the auto-generation, if no <strong>model</strong> element was encountered, of an auto-generated model that references each non-internal component, i.e. each component whose name doesn't begin with an underscore</p>
<p>this is preferable to the (deprecated) <strong>--noautomodel</strong> because it allows various error messages to be suppressed</p>
</dd>
<dt><strong><a name="autodatatype" class="item"><strong>--autodatatype</strong></a></strong></dt>

<dd>
<p>causes the <strong>{{datatype}}</strong> template to be automatically prefixed for parameters with named data types</p>
<p>this is deprecated because it is enabled by default</p>
</dd>
<dt><strong><a name="bibrefdocfirst" class="item"><strong>--bibrefdocfirst</strong></a></strong></dt>

<dd>
<p>causes the <strong>{{bibref}}</strong> template to be expanded with the document first, i.e. <strong>[DOC] Section n</strong> rather than the default of <strong>Section n/[DOC]</strong></p>
</dd>
<dt><strong><a name="canonical" class="item"><strong>--canonical</strong></a></strong></dt>

<dd>
<p>new behavior: omits text that would cause lots of differences between nominally similar reports; is particularly aimed at allowing direct comparison of HTML generated from normative XML and from the &quot;flattened&quot; XML of the <strong>xml</strong> report</p>
<p>old behavior: affected only the <strong>xml</strong> report; caused descriptions to be processed into a canonical form that eased comparison with the original Microsoft Word descriptions</p>
</dd>
<dt><strong><a name="catalog_s" class="item"><strong>--catalog=s</strong>...</a></strong></dt>

<dd>
<p>can be specified multiple times; XML catalogs (http://en.wikipedia.org/wiki/XML_Catalog); the current directory and any directories specified via <strong>--include</strong> are searched when locating XML catalogs</p>
<p>XML catalogs are used only when processing URL-valued <strong>schemaLocation</strong> attributes during DM instance validation; it is not necessary to use XML catalogs in order to validate DM instances; see <strong>--loglevel</strong></p>
</dd>
<dt><strong><a name="compare" class="item"><strong>--compare</strong></a></strong></dt>

<dd>
<p>compares the two files that were specified on the command line, showing the changes made by the second one</p>
<p>note that this is identical to setting <strong>--autobase</strong> and <strong>--showdiffs</strong>; it also affects the behavior of <strong>--lastonly</strong></p>
</dd>
<dt><strong><a name="components" class="item"><strong>--components</strong></a></strong></dt>

<dd>
<p>affects only the <strong>xml</strong> report; generates a component for each object; if <strong>--noobjects</strong> is also specified, the component omits the object definition and consists only of parameter definitions</p>
</dd>
<dt><strong><a name="s" class="item"><strong>--configfile=s(&quot;&quot;)</strong></a></strong></dt>

<dd>
<p>the name of the configuration file; the configuration file format and usage are specific to the report type; not all report types use configuration files</p>
<p>the configuration file name can also be specified via <strong>--option configfile=s</strong> but this usage is deprecated</p>
<p>defaults to <strong>report.ini</strong> where <strong>report</strong> is the report type, e.g. <strong>htmlbbf.ini</strong> for the <strong>htmlbbf</strong> report</p>
</dd>
<dt><strong><strong>--cwmpindex=s(..)</strong></strong></dt>

<dd>
<p>affects only the <strong>html</strong> report; specifies the location of the BBF CWMP index page, i.e. the page generated using the <strong>htmlbbf</strong> report; is used to generate a link back to the appropriate location within the index page</p>
<p>defaults to <strong>../cwmp</strong> (parent directory), which will work for the BBF web site but will not necessarily work in other locations; the generated link will be <strong>cwmpindex#xmlfile</strong>, e.g. <strong>../cwmp#tr-069-1-0-0.xml</strong></p>
</dd>
<dt><strong><strong>--cwmppath=s(cwmp)</strong></strong></dt>

<dd>
<p>affects only the <strong>htmlbbf</strong> report; specifies the location of the XML and HTML files relative to the BBF CWMP index page</p>
<p>defaults to <strong>cwmp</strong> (sub-directory), which will work for the BBF web site; can be set to <strong><a href="http://www.broadband-forum.org/cwmp">http://www.broadband-forum.org/cwmp</a></strong> to generate a local BBF CWMP index page that references published content</p>
</dd>
<dt><strong><a name="p" class="item"><strong>--debugpath=p(&quot;&quot;)</strong></a></strong></dt>

<dd>
<p>outputs debug information for parameters and objects whose path names match the specified pattern</p>
</dd>
<dt><strong><a name="deletedeprecated" class="item"><strong>--deletedeprecated</strong></a></strong></dt>

<dd>
<p>mark all deprecated or obsoleted items as deleted</p>
</dd>
<dt><strong><a name="diffs" class="item"><strong>--diffs</strong></a></strong></dt>

<dd>
<p>has the same affect as specifying both <strong>--lastonly</strong> (reports only items that were defined or last modified in the last XML file on the command line) and <strong>--showdiffs</strong> (visually indicates the differences)</p>
</dd>
<dt><strong><strong>--diffsext=s(diffs)</strong></strong></dt>

<dd>
<p>how diffs files referenced by the <strong>htmlbbf</strong> report are named; for DM Instance <strong>foo.xml</strong>, the diffs file name is <strong>foo-diffsext.html</strong>; the default is <strong>diffs</strong>, i.e. the default file name is <strong>foo-diffs.html</strong></p>
<p>note: as an advanced feature, if this option is specified twice, the first value should be <strong>last</strong> and will be used for files known to be named <strong>foo-last.html</strong> on the BBF CWMP page, and the second value (typically <strong>diffs</strong>) will be used for all other files</p>
</dd>
<dt><strong><a name="dtprofile_s" class="item"><strong>--dtprofile=s</strong>...</a></strong></dt>

<dd>
<p>affects only the <strong>xml</strong> report; can be specified multiple times; defines profiles to be used to generate an example DT instance</p>
<p>for example, specify <strong>Baseline</strong> to select the latest version of the <strong>Baseline</strong> pofile, or <strong>Baseline:1</strong> to select the <strong>Baseline:1</strong> profile</p>
<p><strong>base</strong> and <strong>extends</strong> attributes are honored, so (for example), <strong>Baseline:2</strong> will automatically include <strong>Baseline:1</strong> requirements</p>
</dd>
<dt><strong><a name="dtspec_s" class="item"><strong>--dtspec=s</strong></a></strong></dt>

<dd>
<p>affects only the <strong>xml</strong> report; has an affect only when <strong>--dtprofile</strong> is also present; specifies the value of the top-level <strong>spec</strong> attribute in the generated DT instance; if not specified, the spec defaults to <strong>urn:example-com:device-1-0-0</strong></p>
</dd>
<dt><strong><a name="dtuuid_s" class="item"><strong>--dtuuid=s</strong></a></strong></dt>

<dd>
<p>affects only the <strong>xml</strong> report; has an affect only when <strong>--dtprofile</strong> is also present; specifies the value of the top-level <strong>uuid</strong> attribute in the generated DT instance (there is no &quot;uuid:&quot; prefix); if not specified, the UUID defaults to <strong>00000000-0000-0000-0000-000000000000</strong></p>
</dd>
<dt><strong><a name="exitcode" class="item"><strong>--exitcode</strong></a></strong></dt>

<dd>
<p>if specified, the exit code is minus the number of reported errors, which will typically be masked to 8 bits, e.g. 2 errors would result in an exit code of -2, which might become 254</p>
<p>if not specified, the exit code is zero regardless of the number of errors</p>
</dd>
<dt><strong><a name="help" class="item"><strong>--help</strong></a></strong></dt>

<dd>
<p>requests output of usage information</p>
</dd>
<dt><strong><a name="ignore" class="item"><strong>--ignore</strong></a></strong></dt>

<dd>
<p>specifies a pattern; data models whose names begin with the pattern will be ignored</p>
</dd>
<dt><strong><strong>--importsuffix=s(&quot;&quot;)</strong></strong></dt>

<dd>
<p>specifies a suffix which, if specified, will be appended (preceded by a hyphen) to the name part of any imported files in b&lt;xml&gt; reports</p>
</dd>
<dt><strong><a name="include_d" class="item"><strong>--include=d</strong>...</a></strong></dt>

<dd>
<p>can be specified multiple times; specifies directories to search for files specified on the command line or imported by other files</p>
<ul>
<li><strong><a name="for_files_specified_on_the_command_line_the_current_directory_is_always_searched_first" class="item">for files specified on the command line, the current directory is always searched first</a></strong>

</li>
<li><strong><a name="for_files_imported_by_other_files_the_directory_containing_the_first_file_is_always_searched_first_this_behavior_has_changed_previously_the_current_directory_was_always_searched" class="item">for files imported by other files, the directory containing the first file is always searched first; <strong>this behavior has changed; previously the current directory was always searched</strong></a></strong>

</li>
<li><strong><a name="no_search_is_performed_for_files_that_already_include_directory_names" class="item">no search is performed for files that already include directory names</a></strong>

</li>
</ul>
</dd>
<dt><strong><a name="info" class="item"><strong>--info</strong></a></strong></dt>

<dd>
<p>output details of author, date, version etc</p>
</dd>
<dt><strong><a name="lastonly" class="item"><strong>--lastonly</strong></a></strong></dt>

<dd>
<p>reports only on items that were defined or last modified in the specification corresponding to the last XML file on the command line (as determined by the last XML file's <strong>spec</strong> attribute)</p>
<p>if <strong>--compare</strong> is also specified, the &quot;last only&quot; criterion uses the file name rather than the spec (so the changes shown will always be those from the second file on the command line even if both files have the same spec)</p>
</dd>
<dt><strong><a name="tn" class="item"><strong>--loglevel=tn(i)</strong></a></strong></dt>

<dd>
<p>sets the log level; this consists of a <strong>type</strong> and a <strong>sublevel</strong> (0-9); all messages up and including this sublevel will be output to <strong>stderr</strong>; the default type and sublevel are <strong>warning</strong> and <strong>0</strong>, which means that by default only error, informational and sublevel 0 warning messages will be output</p>
<p>by default, messages are output with a prefix consisting of the upper-case first letter of the log level type in parentheses, followed by a space; for example, &quot;(E) &quot; indicates an error message; the message prefix can be suppressed using <strong>--nologprefix</strong></p>
<p>the possible log level types, which can be abbreviated to a single character, are:</p>
<dl>
<dt><strong><a name="fatal" class="item"><strong>fatal</strong></a></strong></dt>

<dd>
<p>only fatal messages will be output; the sublevel is ignored</p>
</dd>
<dt><strong><a name="error" class="item"><strong>error</strong></a></strong></dt>

<dd>
<p>only fatal and error messages will be output; the sublevel is ignored</p>
</dd>
<dt><strong><strong>info</strong></strong></dt>

<dd>
<p>only fatal, error and informational messages will be output; the sublevel is ignored</p>
</dd>
<dt><strong><a name="warning" class="item"><strong>warning</strong></a></strong></dt>

<dd>
<p>only fatal, error, informational and warning messages will be output; the sublevel distinguishes different levels of warning messages</p>
<p>currently only warning messages with sublevels 0, 1 and 2 are distinguished, but all values in the range 0-9 are valid</p>
</dd>
<dt><strong><a name="debug" class="item"><strong>debug</strong></a></strong></dt>

<dd>
<p>fatal, error, informational, warning and debug messages will be output; the sublevel distinguishes different levels of debug messages</p>
<p>currently only debug messages with sublevels 0, 1 and 2 are distinguished, but all values in the range 0-9 are valid</p>
</dd>
</dl>
<p>for example, a value of <strong>d1</strong> will cause fatal, error, informational, all warning, and sublevel 0 and 1 debug messages to be output</p>
<p>the log level feature is used to implement the functionality of <strong>--quiet</strong>, <strong>--pedantic</strong> and <strong>--verbose</strong> (all of which are still supported); these options are processed in the order (<strong>loglevel</strong>, <strong>quiet</strong>, <strong>pedantic</strong>, <strong>verbose</strong>), so (for example) <strong>--loglevel=d --pedantic</strong> is the same as <strong>--loglevel=w</strong></p>
<p>a log level of warning or debug also enables XML schema validation of DM instances; XML schemas are located using the <strong>schemaLocation</strong> attribute:</p>
<ul>
<li><strong><a name="if_it_specifies_an_absolute_path_no_search_is_performed" class="item">if it specifies an absolute path, no search is performed</a></strong>

</li>
<li><strong><a name="if_it_specifies_a_relative_path_the_directories_specified_via_include_are_searched" class="item">if it specifies a relative path, the directories specified via <strong>--include</strong> are searched</a></strong>

</li>
<li><strong><a name="supplied" class="item">URLs are treated specially; if XML catalogs were supplied (see <strong>--catalog</strong>) then they govern the behavior; otherwise, the directory part is ignored and the schema is located as for a relative path (above)</a></strong>

</li>
</ul>
</dd>
<dt><strong><a name="marktemplates" class="item"><strong>--marktemplates</strong></a></strong></dt>

<dd>
<p>mark selected template expansions with <strong>&amp;&amp;&amp;&amp;</strong> followed by template-related information, a colon and a space</p>
<p>for example, the <strong>reference</strong> template is marked by a string such as <strong>&amp;&amp;&amp;&amp;pathRef-strong:</strong>, <strong>&amp;&amp;&amp;&amp;pathRef-weak:</strong>, <strong>&amp;&amp;&amp;&amp;instanceRef-strong:</strong>, <strong>&amp;&amp;&amp;&amp;instanceRef-strong-list:</strong> or <strong>enumerationRef:</strong></p>
<p>and the <strong>list</strong> template is marked by a string such as <strong>&amp;&amp;&amp;&amp;list-unsignedInt:</strong> or <strong>&amp;&amp;&amp;&amp;list-IPAddress:</strong></p>
</dd>
<dt><strong><a name="i" class="item"><strong>--maxchardiffs=i(5)</strong>, <strong>--maxworddiffs=i(10)</strong></a></strong></dt>

<dd>
<p>these control how differences are shown in descriptions; each paragraph is handled separately</p>
<ul>
<li><strong><a name="if_the_number_of_inserted_and_or_deleted_characters_in_the_paragraph_is_less_than_or_equal_to_maxchardiffs_changes_are_shown_at_the_character_level" class="item">if the number of inserted and/or deleted characters in the paragraph is less than or equal to <strong>maxchardiffs</strong>, changes are shown at the character level</a></strong>

</li>
<li><strong><a name="otherwise_if_the_number_of_inserted_and_or_deleted_words_in_the_paragraph_is_less_than_or_equal_to_maxworddiffs_changes_are_shown_at_the_word_level" class="item">otherwise, if the number of inserted and/or deleted words in the paragraph is less than or equal to <strong>maxworddiffs</strong>, changes are shown at the word level</a></strong>

</li>
<li><strong><a name="otherwise_the_entire_paragraph_is_shown_as_a_single_change" class="item">otherwise, the entire paragraph is shown as a single change</a></strong>

</li>
</ul>
</dd>
<dt><strong><a name="noautomodel" class="item"><strong>--noautomodel</strong></a></strong></dt>

<dd>
<p>disables the auto-generation, if no <strong>model</strong> element was encountered, of an auto-generated model that references each non-internal component, i.e. each component whose name doesn't begin with an underscore</p>
<p>this is deprecated in favor of <strong>--automodel</strong> and will be removed in a future version (at which point the default behavior will be changed so an automatic model is not created)</p>
<p>it is better to use <strong>--automodel</strong> because it allows various error messages to be suppressed</p>
</dd>
<dt><strong><a name="nocomments" class="item"><strong>--nocomments</strong></a></strong></dt>

<dd>
<p>disables generation of XML comments showing what changed etc (<strong>--verbose</strong> always switches it off)</p>
</dd>
<dt><strong><a name="nohyphenate" class="item"><strong>--nohyphenate</strong></a></strong></dt>

<dd>
<p>prevents automatic insertion of soft hyphens</p>
</dd>
<dt><strong><a name="nolinks" class="item"><strong>--nolinks</strong></a></strong></dt>

<dd>
<p>affects only the <strong>html</strong> report; disables generation of hyperlinks (which makes it easier to import HTML into Word documents)</p>
</dd>
<dt><strong><a name="nologprefix" class="item"><strong>--nologprefix</strong></a></strong></dt>

<dd>
<p>suppresses log message prefixes, i.e. the strings such as &quot;E: &quot; or &quot;W: &quot; that indicate errors, warnings etc</p>
</dd>
<dt><strong><a name="nomodels" class="item"><strong>--nomodels</strong></a></strong></dt>

<dd>
<p>specifies that model definitions should not be reported</p>
</dd>
<dt><strong><a name="noobjects" class="item"><strong>--noobjects</strong></a></strong></dt>

<dd>
<p>affects only the <strong>xml</strong> report when <strong>--components</strong> is specified; omits objects from component definitions</p>
</dd>
<dt><strong><a name="noparameters" class="item"><strong>--noparameters</strong></a></strong></dt>

<dd>
<p>affects only the <strong>xml</strong> report when <strong>--components</strong> is specified; omits parameters from component definitions</p>
<p><strong>NOT YET IMPLEMENTED</strong></p>
</dd>
<dt><strong><a name="noprofiles" class="item"><strong>--noprofiles</strong></a></strong></dt>

<dd>
<p>specifies that profile definitions should not be reported</p>
</dd>
<dt><strong><a name="noshowreadonly" class="item"><strong>--noshowreadonly</strong></a></strong></dt>

<dd>
<p>disables showing read-only enumeration and pattern values as <strong>READONLY</strong></p>
</dd>
<dt><strong><a name="notemplates" class="item"><strong>--notemplates</strong></a></strong></dt>

<dd>
<p>suppresses template expansion (currently affects only <strong>html</strong> reports</p>
</dd>
<dt><strong><a name="nowarnbibref" class="item"><strong>--nowarnbibref</strong></a></strong></dt>

<dd>
<p>disables bibliographic reference warnings</p>
<p>see also <strong>--warnbibref</strong></p>
</dd>
<dt><strong><a name="nowarnnableparameter" class="item"><strong>--nowarnnableparameter</strong></a></strong></dt>

<dd>
<p>disables warnings when a writable table has no enable parameter</p>
</dd>
<dt><strong><a name="nowarnnumentries" class="item"><strong>--nowarnnumentries</strong></a></strong></dt>

<dd>
<p>disables warnings (and/or errors) when a multi-instance object has no associated NumberOfEntries parameter</p>
<p>this is always an error so disabling these warnings isn't such a good idea</p>
</dd>
<dt><strong><a name="nowarnredef" class="item"><strong>--nowarnredef</strong></a></strong></dt>

<dd>
<p>disables parameter and object redefinition warnings (these warnings are also output if <strong>--verbose</strong> is specified)</p>
<p>there are some circumstances under which parameter or object redefinition is not worthy of comment</p>
</dd>
<dt><strong><a name="nowarnreport" class="item"><strong>--nowarnreport</strong></a></strong></dt>

<dd>
<p>disables the inclusion of error and warning messages in reports (currently only in <strong>HTML</strong> reports)</p>
</dd>
<dt><strong><a name="nowarnprofbadref" class="item"><strong>--nowarnprofbadref</strong></a></strong></dt>

<dd>
<p>disables warnings when a profile references an invalid object or parameter</p>
<p>there are some circumstances under which it's useful to use an existing profile definition where some objects or parameters that it references have been (deliberately) deleted</p>
<p>this is deprecated because it is no longer needed (use status=&quot;deleted&quot; as appropriate to suppress such errors)</p>
</dd>
<dt><strong><a name="nowarnuniquekeys" class="item"><strong>--nowarnuniquekeys</strong></a></strong></dt>

<dd>
<p>disables warnings when a multi-instance object has no unique keys</p>
</dd>
<dt><strong><a name="nowarnwtref" class="item"><strong>--nowarnwtref</strong></a></strong></dt>

<dd>
<p>disables &quot;referenced file's spec indicates that it's still a WT&quot; warnings</p>
</dd>
<dt><strong><a name="objpat_p" class="item"><strong>--objpat=p</strong></a></strong></dt>

<dd>
<p>specifies an object name pattern (a regular expression); objects that do not match this pattern will be ignored (the default of &quot;&quot; matches all objects)</p>
</dd>
<dt><strong><a name="option_n_v" class="item"><strong>--option=n=v</strong>...</a></strong></dt>

<dd>
<p>can be specified multiple times; defines options that can be accessed and used when generating the report; useful when used with reports implemented in plugins</p>
</dd>
<dt><strong><a name="outfile_s" class="item"><strong>--outfile=s</strong></a></strong></dt>

<dd>
<p>specifies the output file; if not specified, output will be sent to <em>stdout</em></p>
<p>if the file already exists, it will be quietly overwritten</p>
<p>the only reason to use this option (rather than using shell output redirection) is that it allows the tool to know the name of the output file and therefore to include it in the generated XML, HTML report etc</p>
</dd>
<dt><strong><strong>--pedantic=[i(1)]</strong></strong></dt>

<dd>
<p>enables output of warnings to <em>stderr</em> when logical inconsistencies in the XML are detected; if the option is specified without a value, the value defaults to 1</p>
<p>this has the same effect as setting <strong>--loglevel</strong> to &quot;w&quot; (warning) followed by the pedantic value minus one, e.g. &quot;w1&quot; for <strong>--pedantic=2</strong></p>
</dd>
<dt><strong><a name="plugin_s" class="item"><strong>--plugin=s</strong>...</a></strong></dt>

<dd>
<p>can be specified multiple times; defines external plugins that can define additional report types</p>
<ul>
<li><strong><a name="pm" class="item">currently each plugin must correspond to a file of the same name but with a <strong>.pm</strong> (Perl Module) extension; for example, <strong>--plugin=foo</strong> must correspond to a file called <strong>foo.pm</strong>; the directories specified via the Perl include path (including the current directory) and via <strong>--include</strong> are searched</a></strong>

</li>
<li><strong><a name="each_plugin_must_define_a_package_of_the_same_name_and_can_define_one_of_more_routines_with_names_of_the_form_rrr_node_rrr_becomes_an_additional_report_type_if_only_one_such_routine_is_defined_then_by_convention_rrr_should_be_the_same_as_the_plugin_name_for_example_foo_pm_will_always_define_the_foo_package_and_will_usually_define_a_foo_node_routine" class="item">each plugin must define a package of the same name and can define one of more routines with names of the form <strong>rrr_node</strong>; <strong>rrr</strong> becomes an additional report type; if only one such routine is defined then by convention <strong>rrr</strong> should be the same as the plugin name; for example, <strong>foo.pm</strong> will always define the <strong>foo</strong> package and will usually define a <strong>foo_node</strong> routine</a></strong>

</li>
<li><strong><a name="the_file_can_optionally_also_define_routines_with_names_of_the_form_rrr_init_rrr_begin_rrr_postpar_rrr_post_and_rrr_end" class="item">the file can optionally also define routines with names of the form <strong>rrr_init</strong>, <strong>rrr_begin</strong>, <strong>rrr_postpar</strong>, <strong>rrr_post</strong> and <strong>rrr_end</strong></a></strong>

</li>
<li><strong><a name="rrr_init_is_called_after_processing_command_line_arguments_but_before_reading_any_of_the_dm_files_it_can_be_used_for_initializing_the_plugin_e_g_parsing_configuration_files" class="item"><strong>rrr_init</strong> is called after processing command line arguments but before reading any of the DM files; it can be used for initializing the plugin, e.g. parsing configuration files</a></strong>

</li>
<li><strong><a name="level" class="item">each of the other routines is called with three arguments; the first is the node on which it is to report; the second is the indentation level (0 means the initial call, for which the node is the root node, i.e. the parent of any <strong>model</strong> nodes); the third is a reference to an option hash</a></strong>

</li>
<li><strong><a name="routine" class="item">the <strong>begin</strong> routine is called at the beginning; the <strong>node</strong> routine is called for each node; the <strong>postpar</strong> routine (if defined) is called after parameter <strong>node</strong> routines have been called; the <strong>post</strong> routine (if defined) is called after child node <strong>node</strong> routines have been called; the <strong>end</strong> routine is called at the end; these routines are not themselves responsible for traversing child nodes</a></strong>

</li>
<li><strong><a name="the_node_object_is_a_reference_to_a_hash_that_contains_keys_such_as_path_and_name_it_is_not_currently_documented" class="item">the node object is a reference to a hash that contains keys such as <strong>path</strong> and <strong>name</strong>; it is not currently documented</a></strong>

</li>
<li><strong><a name="it_is_safe_to_store_information_on_the_node_any_new_names_should_begin_rrr_in_order_to_avoid_name_clashes" class="item">it is safe to store information on the node; any new names should begin <strong>rrr_</strong> in order to avoid name clashes</a></strong>

</li>
<li><strong><a name="these_instructions_are_not_expected_to_be_sufficient_to_write_a_plugin_it_will_be_necessary_to_consult_the_main_report_tool_source_code_the_plugin_interface_may_change_in_the_future_in_which_case_plugins_may_need_to_be_adjusted" class="item">these instructions are not expected to be sufficient to write a plugin; it will be necessary to consult the main report tool source code; the plugin interface may change in the future, in which case plugins may need to be adjusted</a></strong>

</li>
<li><strong><a name="the_following_illustrates_just_about_the_simplest_possible_valid_plugin_it_would_be_placed_in_a_file_called_foo_pm_and_would_be_used_by_specifying_plugin_foo_report_foo" class="item">the following illustrates just about the simplest possible valid plugin; it would be placed in a file called <strong>foo.pm</strong> and would be used by specifying <strong>--plugin=foo --report=foo</strong></a></strong>

<pre>
 package foo;
 
 sub foo_node
 {
     my ($node) = @_;
     print &quot;$node-&gt;{path}\n&quot;;
 }
 
 1;</pre>
</li>
</ul>
</dd>
<dt><strong><a name="quiet" class="item"><strong>--quiet</strong></a></strong></dt>

<dd>
<p>suppresses informational messages</p>
<p>this used to have the same effect as setting <strong>--loglevel</strong> to &quot;e&quot; (error) but now it simply suppresses such messages</p>
</dd>
<dt><strong><a name="report_html_htmlbbf_null_tab_text_xls_xml_xsd_other" class="item"><strong>--report=html|htmlbbf|(null)|tab|text|xls|xml|xsd|other...</strong></a></strong></dt>

<dd>
<p>specifies the report format; one of the following:</p>
<dl>
<dt><strong><a name="html" class="item"><strong>html</strong></a></strong></dt>

<dd>
<p>HTML document; see also <strong>--nolinks</strong> and <strong>--notemplates</strong></p>
</dd>
<dt><strong><a name="htmlbbf" class="item"><strong>htmlbbf</strong></a></strong></dt>

<dd>
<p>HTML document containing the information in the BBF CWMP index page; when generating this report, all the XSD and XML files are specified on the command line</p>
<p>the <strong>htmlbbf</strong> report reads a configuration file whose name can be specified using <strong>--configfile</strong></p>
<p>see OD-290 and OD-148 for more details</p>
</dd>
<dt><strong><a name="null" class="item"><strong>null</strong></a></strong></dt>

<dd>
<p>no output; errors go to <em>stdout</em> rather than <em>stderr</em> (default)</p>
</dd>
<dt><strong><a name="tab" class="item"><strong>tab</strong></a></strong></dt>

<dd>
<p>tab-separated list, one object or parameter per line</p>
</dd>
<dt><strong><a name="text" class="item"><strong>text</strong></a></strong></dt>

<dd>
<p>indented text</p>
</dd>
<dt><strong><a name="xls" class="item"><strong>xls</strong></a></strong></dt>

<dd>
<p>Excel XML spreadsheet</p>
</dd>
<dt><strong><a name="xml" class="item"><strong>xml</strong></a></strong></dt>

<dd>
<p>if <strong>--lastonly</strong> is specified, DM XML containing only the changes made by the final file on the command line; see also <strong>--autobase</strong></p>
<p>if <strong>--lastonly</strong> is not specified, DM XML with all imports resolved (apart from bibliographic references and data type definitions); use <strong>--dtprofile</strong>, optionally with <strong>--dtspec</strong> and <strong>--dtuuid</strong>, to generate DT XML for the specified profiles; use <strong>--canonical</strong> to omit transient information, e.g. dates and times, that makes it harder to compare reports; use <strong>--components</strong> (perhaps with <strong>--noobjects</strong> or <strong>--noparameters</strong>) to generate component definitions</p>
</dd>
<dt><strong><a name="xml2" class="item"><strong>xml2</strong></a></strong></dt>

<dd>
<p>same as the <strong>xml</strong> report with <strong>--lastonly</strong> not specified; deprecated (use <strong>xml</strong> instead)</p>
</dd>
<dt><strong><a name="xsd" class="item"><strong>xsd</strong></a></strong></dt>

<dd>
<p>W3C schema</p>
</dd>
<dt><strong><a name="other" class="item">other...</a></strong></dt>

<dd>
<p>other report types can be supported via <strong>--plugin</strong></p>
</dd>
</dl>
</dd>
<dt><strong><a name="showdiffs" class="item"><strong>--showdiffs</strong></a></strong></dt>

<dd>
<p>currently affects only the <strong>text</strong> and <strong>html</strong> reports; visually indicates the differences resulting from the last XML file on the command line</p>
<p>for the <strong>html</strong> report, insertions are shown in blue and deletions are shown in red strikeout; in order to enhance readability, hyperlinks are not shown in a special color (but are still underlined); note that this hyperlink behavior uses <strong>color=inherit</strong>, which apparently isn't supported by Internet Explorer</p>
<p>is implied by <strong>--compare</strong></p>
</dd>
<dt><strong><a name="showreadonly" class="item"><strong>--showreadonly</strong></a></strong></dt>

<dd>
<p>shows read-only enumeration and pattern values as <strong>READONLY</strong>; this is enabled by default but can be disabled using <strong>--noshowreadonly</strong></p>
<p>this is deprecated because it is enabled by default and therefore has no effect</p>
</dd>
<dt><strong><a name="showspec" class="item"><strong>--showspec</strong></a></strong></dt>

<dd>
<p>currently affects only the <strong>html</strong> report; generates a <strong>Spec</strong> rather than a <strong>Version</strong> column</p>
</dd>
<dt><strong><a name="showsyntax" class="item"><strong>--showsyntax</strong></a></strong></dt>

<dd>
<p>adds an extra column containing a summary of the parameter syntax; is like the Type column for simple types, but includes additional details for lists</p>
</dd>
<dt><strong><a name="showunion" class="item"><strong>--showunion</strong></a></strong></dt>

<dd>
<p>adds &quot;This object is a member of a union&quot; text to objects that have &quot;1 of n&quot; or &quot;union&quot; semantics; such objects are identified by having <strong>minEntries=0</strong> and <strong>maxEntries=1</strong></p>
</dd>
<dt><strong><a name="sortobjects" class="item"><strong>--sortobjects</strong></a></strong></dt>

<dd>
<p>currently affects only the <strong>html</strong> report; reports objects (and profiles) in alphabetical order rather than in the order that they are defined in the XML</p>
</dd>
<dt><strong><a name="special_deprecated_imports_key_nonascii_normative_notify_obsoleted_pathref_profile_ref_rfc" class="item"><strong>--special=deprecated|imports|key|nonascii|normative|notify|obsoleted|pathref|profile|ref|rfc</strong></a></strong></dt>

<dd>
<p>performs special checks, most of which assume that several versions of the same data model have been supplied on the command line, and many of which operate only on the highest version of the data model</p>
<dl>
<dt><strong><a name="deprecated_obsoleted" class="item"><strong>deprecated</strong>, <strong>obsoleted</strong></a></strong></dt>

<dd>
<p>for each profile item (object or parameter) report if it is deprecated or obsoleted</p>
</dd>
<dt><strong><a name="imports_imports_element_imports_element_name" class="item"><strong>imports</strong>, <strong>imports:element</strong>, <strong>imports:element:name</strong></a></strong></dt>

<dd>
<p>lists the components, data types and models that are defined in all the files that were read by the tool</p>
<p><strong>element</strong> is <strong>component</strong>, <strong>dataType</strong> or <strong>model</strong> and can be abbreviated, so it is usual to specify just the first letter</p>
<p><strong>name</strong> is the first part of the element name (it can be the full element name but this is not necessary); element names which start with an underscore will also be listed</p>
<p>the output format is illustrated by these examples:</p>
<pre>
 report.pl --special=imports:m:Device:2 tr-181-2-3-0.xml
 model {tr-181-2-3-0}Device:2.3
 model {tr-181-2-3-0}Device:2.2 = {tr-181-2-2-0}Device:2.2
 model {tr-181-2-2-0}Device:2.2
 model {tr-181-2-2-0}Device:2.1 = {tr-181-2-1-0}Device:2.1
 model {tr-181-2-1-0}Device:2.1
 model {tr-181-2-1-0}Device:2.0 = {tr-181-2-0-1}Device:2.0
 model {tr-181-2-0-1}Device:2.0</pre>
<pre>
 report.pl --special=imports:c:UPnP tr-181-2-3-0.xml
 component {tr-157-1-3-0}UPnP = {tr-157-1-2-0}UPnP
 component {tr-157-1-2-0}UPnPDiffs
 component {tr-157-1-2-0}UPnP
 component {tr-157-1-2-0}_UPnP = {tr-157-1-1-0}UPnP {tr-157-1-0-0}
 component {tr-157-1-1-0}UPnP = {tr-157-1-0-0}UPnP
 component {tr-157-1-0-0}UPnP
 component {tr-181-2-0-1}UPnP = {tr-157-1-2-0}UPnP
 component {tr-157-1-4-0}UPnP = {tr-157-1-3-0}UPnP {tr-157-1-2-0}</pre>
<p>each line starts with the element name, followed by the element in the form <strong>{file}name</strong>; then, if the element is imported from another file (possibly using a different name), that is indicated after an equals sign; finally if the actual definition is in a different file, that is indicated in the form <strong>{file}</strong></p>
<p>for example, the following line indicates that the <strong>tr-157-1-2-0</strong> <strong>_UPnP</strong> component is imported from the <strong>tr-157-1-1-0</strong> <strong>UPnP</strong> component, which is actually defined in <strong>tr-157-1-0-0</strong></p>
<pre>
 component {tr-157-1-2-0}_UPnP = {tr-157-1-1-0}UPnP {tr-157-1-0-0}</pre>
</dd>
<dt><strong><a name="key" class="item"><strong>key</strong></a></strong></dt>

<dd>
<p>for each table with a functional key, report access, path and the key</p>
</dd>
<dt><strong><a name="nonascii" class="item"><strong>nonascii</strong></a></strong></dt>

<dd>
<p>check which model, object, parameter or profile descriptions contain characters other than ASCII 9-10 or 32-126; the output is the full path names of all such items, together with the offending descriptions with the invalid characters surrounded by pairs of asterisks</p>
<p>the above list is followed by a list of the invalid characters and how often each one occurred</p>
</dd>
<dt><strong><a name="normative" class="item"><strong>normative</strong></a></strong></dt>

<dd>
<p>check which model, object, parameter or profile descriptions contain inappropriate use of normative language, i.e. lower-case normative words, or <strong>MAY NOT</strong>; the output is the full path names of all such items, together with the offending descriptions with the normative words surrounded by pairs of asterisks</p>
<p>the above list is followed by a list of the invalid terms and how often each one occurred</p>
</dd>
<dt><strong><a name="notify" class="item"><strong>notify</strong></a></strong></dt>

<dd>
<p>check which parameters in the highest version of the data model are not in the &quot;can deny active notify request&quot; table; the output is the full path names of all such parameters, one per line</p>
</dd>
<dt><strong><a name="pathref" class="item"><strong>pathref</strong></a></strong></dt>

<dd>
<p>for each pathRef parameter, report cases where a &quot;CPE-managed, non-fixed&quot; object references another &quot;CPE-managed, non-fixed&quot; object; these are candidate cases for objects that should have the same lifetime</p>
</dd>
<dt><strong><a name="profile" class="item"><strong>profile</strong></a></strong></dt>

<dd>
<p>check which parameters defined in the highest version of the data model are not in profiles; the output is the full path names of all such parameters, one per line</p>
</dd>
<dt><strong><a name="rfc" class="item"><strong>rfc</strong></a></strong></dt>

<dd>
<p>check which model, object, parameter or profile descriptions mention RFCs without giving references; the output is the full path names of all such items, together with the offending descriptions with the normative words surrounded by pairs of asterisks</p>
<p>this doesn't work very well and isn't particularly useful</p>
</dd>
<dt><strong><a name="ref" class="item"><strong>ref</strong></a></strong></dt>

<dd>
<p>for each reference parameter, report access, reference type and path</p>
</dd>
</dl>
</dd>
<dt><strong><a name="thisonly" class="item"><strong>--thisonly</strong></a></strong></dt>

<dd>
<p>outputs only definitions defined in the files on the command line, not those from imported files</p>
</dd>
<dt><strong><strong>--tr106=s(TR-106)</strong></strong></dt>

<dd>
<p>indicates the TR-106 version (i.e. the <strong>bibref</strong> name) to be referenced in any automatically generated description text</p>
<p>the default value is the latest version of TR-106 that is referenced elsewhere in the data model (or <strong>TR-106</strong> if it is not referenced elsewhere)</p>
</dd>
<dt><strong><strong>--trpage=s(http://www.broadband-forum.org/technical/download/)</strong></strong></dt>

<dd>
<p>indicates the location of the PDF versions of BBF standards; is concatenated with the filename (trailing slash is added if necessary)</p>
</dd>
<dt><strong><a name="ucprofile_s" class="item"><strong>--ucprofile=s</strong>...</a></strong></dt>

<dd>
<p>affects only the <strong>xml</strong> report; can be specified multiple times; defines use case profiles whose requirements will be checked against the <strong>--dtprofile</strong> profiles</p>
</dd>
<dt><strong><a name="upnpdm" class="item"><strong>--upnpdm</strong></a></strong></dt>

<dd>
<p>transforms output (currently HTML only) so it looks like a <strong>UPnP DM</strong> (Device Management) data model definition</p>
</dd>
<dt><strong><a name="ugly" class="item"><strong>--ugly</strong></a></strong></dt>

<dd>
<p>disables some prettifications, e.g. inserting spaces to encourage line breaks</p>
<p>this is deprecated because it has been replaced with the more specific <strong>--nohyphenate</strong> and <strong>--showsyntax</strong></p>
</dd>
<dt><strong><strong>--verbose[=i(1)]</strong></strong></dt>

<dd>
<p>enables verbose output; the higher the level the more the output</p>
<p>this has the same effect as setting <strong>--loglevel</strong> to &quot;d&quot; (debug) followed by the verbose value minus one, e.g. &quot;d2&quot; for <strong>--verbose=3</strong></p>
</dd>
<dt><strong><strong>--warnbibref[=i(1)]</strong></strong></dt>

<dd>
<p>enables bibliographic reference warnings (these warnings are also output if <strong>--verbose</strong> is specified); the higher the level the more warnings</p>
<p>setting it to -1 is the same as setting <strong>--nowarnbibref</strong> and suppresses various bibref-related errors that would normally be output</p>
<p>previously known as <strong>--warndupbibref</strong>, which is now deprecated (and will be removed in a future release) because it covers more than just duplicate bibliographic references</p>
</dd>
<dt><strong><a name="writonly" class="item"><strong>--writonly</strong></a></strong></dt>

<dd>
<p>reports only on writable parameters (should, but does not, suppress reports of read-only objects that contain no writable parameters)</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="limitations">LIMITATIONS</a></h1>
<p>This script is only for illustration of concepts and has many shortcomings.</p>

</body>

</html>
